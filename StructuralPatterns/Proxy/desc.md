# Шаблон "Заместитель" (Proxy)

Шаблон "Заместитель" предоставляет объект, который контролирует доступ к другому объекту. Это позволяет добавлять
дополнительные функции, такие как отложенная инициализация, контроль доступа, логирование или кэширование.

## Что это такое?

Шаблон "Заместитель" используется для создания объекта-заместителя, который представляет другой объект и управляет
доступом к нему. Заместитель может выполнять дополнительные задачи, прежде чем передать запрос оригинальному объекту.

## Когда использовать?

- Когда нужно контролировать доступ к другому объекту.
- Когда требуется реализовать дополнительные функции, такие как кэширование или логирование.
- Когда нужно отложить создание объекта до момента, когда он действительно понадобится.

## Как это работает?

### Компоненты:

1. **Интерфейс:** Определяет общие методы для заместителя и реального объекта.
2. **Реальный объект:** Объект, к которому нужно получить доступ через заместителя.
3. **Заместитель:** Реализует интерфейс и управляет доступом к реальному объекту, добавляя необходимую функциональность.

## Плюсы

- **Контроль доступа:** Позволяет управлять, кто и как может взаимодействовать с реальным объектом.
- **Дополнительные функции:** Упрощает добавление новых функций без изменения оригинального объекта.
- **Оптимизация ресурсов:** Позволяет откладывать создание ресурсоемких объектов до момента их непосредственного
  использования.

## Минусы

- **Сложность кода:** Может усложнить архитектуру, если замещающих объектов слишком много.
- **Производительность:** Дополнительный уровень абстракции может замедлить выполнение, особенно если заместитель
  выполняет много логики.
- **Управление состоянием:** Если заместитель изменяет состояние реального объекта, это может привести к путанице и
  ошибкам.

## Почему это полезно?

- Упрощает управление доступом и добавление функциональности к объектам.
- Позволяет улучшить производительность за счет отложенной инициализации.
- Облегчает организацию кода, сохраняя при этом возможность гибкого взаимодействия с объектами.

## Участники

### Proxy (ImageProxy) — заместитель:

- Хранит ссылку, которая позволяет заместителю обратиться к реальному субъекту. Объект класса Proxy может обращаться к
  объекту класса Subject, если интерфейсы классов RealSubject и Subject одинаковы.
- Предоставляет интерфейс, идентичный интерфейсу Subject, так что заместитель всегда может быть подставлен вместо
  реального субъекта.
- Контролирует доступ к реальному субъекту и может отвечать за его создание и удаление.
- Прочие обязанности зависят от вида заместителя:
    - **Удаленный заместитель:** отвечает за кодирование запроса и его аргументов и отправление закодированного запроса
      реальному субъекту в другом адресном пространстве.
    - **Виртуальный заместитель:** может кэшировать дополнительную информацию о реальном субъекте, чтобы отложить его
      создание. Например, класс `ImageProxy` кэширует размеры реального изображения.
    - **Защищающий заместитель:** проверяет, имеет ли вызывающий объект необходимые для выполнения запроса права.

### Subject (Graphic) — субъект:

- Определяет общий для `RealSubject` и `Proxy` интерфейс, так что класс `Proxy` можно использовать везде, где
  ожидается `RealSubject`.

### RealSubject (Image) — реальный субъект:

- Определяет реальный объект, представленный заместителем.
