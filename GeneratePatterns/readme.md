
| Критерий                | **Шаблон "Строитель"**                                                                                                                                                                     | **Шаблон "Абстрактная Фабрика"**                                                                                                                                                                    | **Шаблон "Фабричный метод"**                                                                                                                                                            |
|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Описание**            | Позволяет поэтапно создавать сложные объекты.                                                                                                                                              | Позволяет создавать семейства связанных объектов без указания их конкретных классов.                                                                                                                | Делегирует создание объектов подклассам.                                                                                                                                                |
| **Когда использовать**  | - Когда объект состоит из множества частей. <br> - Когда необходимо создать разные представления одного и того же объекта.<br> - Когда нужно повторное использование алгоритма построения. | - Когда необходимо создавать семейства связанных объектов. <br> - Когда нужно избежать жесткой зависимости от конкретных классов.<br> - Когда требуется совместимость между продуктами в семействе. | - Когда заранее неизвестно, какой именно объект необходимо создать. <br> - Когда создание объектов является сложным процессом.<br> - Когда нужно делегировать инстанцирование объектов. |
| **Примеры применения**  | - Создание заказов, персонализация товаров, комплекты товаров. <br> - Создание домов, автомобилей, интерфейсов с множеством настроек.                                                      | - Создание интерфейсов для различных семейств продуктов (например, одежда, обувь и аксессуары).                                                                                                     | - Создание различных типов продуктов (одежда, электроника), способов доставки, методов оплаты.                                                                                          |
| **Цель**                | Пошаговое создание сложных объектов с возможностью изменения представления.                                                                                                                | Создание семейств связанных или зависимых объектов без указания их конкретных классов.                                                                                                              | Делегирование создания объектов подклассам, позволяя изменять создаваемые объекты.                                                                                                      |
| **Процесс**             | Процесс создания объекта разбивается на несколько шагов, которые управляются директором.                                                                                                   | Клиентский код работает с интерфейсом, абстрактная фабрика создает конкретные продукты. Клиент не зависит от конкретных классов.                                                                    | Создатель определяет фабричный метод, который возвращает объект нужного типа. Каждый подкласс создателя реализует свою логику.                                                          |
| **Возвращаемый объект** | Сложный объект.                                                                                                                                                                            | Семейство связанных объектов.                                                                                                                                                                       | Конкретный продукт.                                                                                                                                                                     |
| **Гибкость**            | Высокая, позволяет создавать различные представления одного и того же объекта. Позволяет изменять отдельные шаги построения.                                                               | Высокая, позволяет легко добавлять новые семейства продуктов. Однако добавление продуктов в существующие семейства может потребовать изменения интерфейсов.                                         | Средняя, упрощает добавление новых типов продуктов, но требует создания новых подклассов для каждого типа.                                                                              |
| **Структура объектов**  | Включает строителя, директора и продукт.                                                                                                                                                   | Включает интерфейсы для фабрики и конкретные классы продуктов.                                                                                                                                      | Включает абстрактного создателя и конкретных создателей.                                                                                                                                |
| **Сложность**           | Средняя, требует создания множества классов.                                                                                                                                               | Высокая, требует больше абстракции и конфигурации.                                                                                                                                                  | Низкая, но может стать громоздкой с увеличением количества подклассов.                                                                                                                  |
| **Недостатки**          | Множество классов для каждого конкретного случая, что может увеличивать сложность.                                                                                                         | Может быть сложно добавить новые продукты в существующие семейства, если потребуется менять интерфейсы.                                                                                             | Для каждого нового типа продукта нужно создавать новый подкласс, что может усложнять поддержку проекта.                                                                                 |


Чтобы сделать полный пример, включающий все порождающие паттерны (Абстрактная фабрика, Фабричный метод, Строитель, Прототип и Синглтон), мы расширим структуру проекта, добавив соответствующие паттерны. Структура будет построена таким образом, чтобы легко масштабироваться, добавлять новые категории одежды и новые типы продуктов, сохраняя при этом гибкость и модульность.

```
/GeneratePatterns
│
├── /Factories/                         # Папка с фабриками и абстрактными фабриками
│   ├── AbstractClothingFactory.php     # Абстрактная фабрика для одежды
│   ├── MenClothingFactory.php          # Фабрика для мужской одежды
│   ├── WomenClothingFactory.php        # Фабрика для женской одежды
│   └── SuitFactory.php                 # Фабричный метод для создания костюмов
│
├── /Builders/                          # Папка с паттернами Строитель
│   ├── SuitBuilder.php                 # Строитель для костюмов
│   └── DressBuilder.php                # Строитель для платьев
│
├── /Products/                          # Конкретные классы одежды (объекты)
│   ├── Suit.php                        # Класс костюма
│   ├── Dress.php                       # Класс платья
│   ├── CustomSuit.php                  # Класс костюма, созданного через Строитель
│   └── Contracts/                      # Интерфейсы для объектов
│       ├── ClothingItem.php            # Интерфейс для одежды
│       └── ComplexClothingItem.php     # Интерфейс для сложных объектов одежды
│
├── /Prototypes/                        # Паттерн Прототип для клонирования объектов
│   ├── ClothingPrototype.php           # Абстрактный класс прототипа
│   ├── SuitPrototype.php               # Прототип для костюмов
│   ├── DressPrototype.php              # Прототип для платьев
│   └── PrototypeRegistry.php           # Реестр прототипов для быстрого клонирования
│
├── /Singletons/                        # Паттерн Синглтон
│   └── ProductCatalogSingleton.php     # Синглтон для каталога продуктов 
│
└── GeneratePatternsController.php      # Пример использования всех паттернов
```

# Порядок реализации классов для проекта

## Интерфейсы и Базовые классы

### /Products/Contracts/ClothingItem.php

Методы:
- `getDescription()`
- `getPrice()`

### /Products/Contracts/ComplexClothingItem.php

Методы:
- `getComponents()`

---

## Продукты (Классы одежды)

### /Products/Suit.php

Методы:
- `getDescription()`
- `getPrice()`
- `getComponents()`

### /Products/Dress.php

Методы:
- `getDescription()`
- `getPrice()`

### /Products/CustomSuit.php

Методы:
- `getDescription()`
- `getPrice()`
- `getComponents()`

---

## Фабрики

### /Factories/AbstractClothingFactory.php

Методы:
- `createClothingItem()`

### /Factories/MenClothingFactory.php

Методы:
- `createClothingItem()`

### /Factories/WomenClothingFactory.php

Методы:
- `createClothingItem()`

### /Factories/SuitFactory.php

Методы:
- `createSuit()`

---

## Строители

### /Builders/SuitBuilder.php

Методы:
- `createJacket()`
- `createTrousers()`
- `createVest()`
- `getResult()`

### /Builders/DressBuilder.php

Методы:
- `createDress()`
- `getResult()`

---

## Прототипы

### /Prototypes/ClothingPrototype.php

Методы:
- `clone()`

### /Prototypes/SuitPrototype.php

Методы:
- `clone()`

### /Prototypes/DressPrototype.php

Методы:
- `clone()`

### /Prototypes/PrototypeRegistry.php

Методы:
- `register()`
- `get()`

---

## Синглтон

### /Singletons/ProductCatalogSingleton.php

Методы:
- `getInstance()`
- `addProduct()`
- `getProducts()`

---

## Контроллер

### GeneratePatternsController.php

Методы:
- `index()` (пример использования всех паттернов)
- `createProduct()`

---

## Взаимодействие с базой данных

### 1. Фабрики

Фабрики (в директории `/Factories`) будут использоваться для получения объектов одежды. Каждая фабрика будет выполнять выборку из таблицы `products` и возвращать экземпляры классов одежды.

- **`AbstractClothingFactory`**:
  - **Метод `createClothingItem()`**: Будет отвечать за выборку объекта одежды из таблицы `products` по заданным параметрам (например, ID или атрибутам) и создание экземпляра соответствующего класса.

- **`MenClothingFactory` и `WomenClothingFactory`**:
  - Эти фабрики будут реализовывать метод `createClothingItem()`, который будет возвращать список продуктов, отфильтрованных по полу (мужская или женская одежда).

- **`SuitFactory`**:
  - **Метод `createSuit()`**: Будет выполнять выборку данных о костюмах из таблицы `products`, возвращая экземпляры класса `Suit` с полями, загруженными из базы данных.

### 2. Строители

Строители (в директории `/Builders`) могут использоваться для создания сложных объектов одежды из уже существующих компонентов.

- **`SuitBuilder`**:
  - **Методы `createJacket()`, `createTrousers()`, `createVest()`**: Эти методы могут извлекать соответствующие компоненты костюма из базы данных по заданным критериям и возвращать их в виде экземпляров классов.
  - **Метод `getResult()`**: Возвращает собранный объект `CustomSuit`, который будет создан из компонентов, выбранных из базы данных.

- **`DressBuilder`**:
  - **Метод `createDress()`**: Этот метод может извлекать данные о платье из таблицы `products` и создавать объект платья.
  - **Метод `getResult()`**: Возвращает готовый объект платья.

### 3. Продукты

Продукты (в директории `/Products`) — это конкретные классы одежды, которые будут загружаться из базы данных.

- **`Suit`, `Dress`, `CustomSuit`**:
  - **Методы `getDescription()` и `getPrice()`**: Будут возвращать описание и цену продукта, которые были загружены из базы данных.
  - **Метод `loadFromDatabase($id)`**: Загружает информацию о продукте из таблицы `products` по идентификатору, заполняя поля класса данными из базы данных.

### 4. Прототипы

Прототипы (в директории `/Prototypes`) могут использоваться для клонирования существующих объектов.

- **`ClothingPrototype`, `SuitPrototype`, `DressPrototype`**:
  - **Метод `clone()`**: Позволяет клонировать уже загруженные объекты. Это может быть полезно, когда нужно создать новый объект на основе существующего, не обращаясь к базе данных.

### 5. Синглтон

Синглтон (в директории `/Singletons`) будет обеспечивать доступ к каталогу продуктов для выборки.

- **`ProductCatalogSingleton`**:
  - **Методы `getInstance()`, `getProducts()`**: Метод `getProducts()` будет выполнять выборку всех доступных продуктов из таблицы `products` и возвращать их в виде массива объектов, которые можно будет использовать в приложении.

### Заключение

Вся логика взаимодействия с базой данных сосредоточена на выборке данных о товарах, которые уже существуют в таблице `products`. Классы и методы позволяют извлекать, фильтровать и обрабатывать данные для дальнейшего использования в приложении, без необходимости их создания или изменения в базе данных.


